\begin{Exercise}[title={Cat},difficulty=1]
\label{ex:cat}
\Question \label{ex:cat q1} Write a program which mimics the Unix program
\prog{cat}. For those who don't know this program, the following 
invocation displays the contents of the file \dir{blah}:
\begin{display}
\pr cat blah
\end{display}

\Question Make it support the \-n flag, where each line is
numbered.

\Question The solution to the above question given in \ref{q:cat} contains a
bug. Can you spot and fix it?
\end{Exercise}

\begin{Answer}
\Question The following is implemention of \prog{cat} which also 
\label{q:cat}
supports a \-n flag to number each line.
\lstinputlisting[label=src:cat,caption=A cat program]{ex-beyond/src/cat.go}
\showremarks

\Question The bug show itself when the last line of the input does not
contain a newline. Or worse, when the input contains one line without a
closing newline nothing is shown at all. A better solution is the following 
program.
\lstinputlisting[label=src:cat2,caption=A better cat program]{ex-beyond/src/cat2.go}
\end{Answer}
